plugins {
    id 'java'
    id 'idea'
    id 'org.jetbrains.intellij' version '0.3.5'
}

group 'me.carbon.plugins'
version '0.4.3'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

apply plugin: 'idea'
apply plugin: 'java'
apply plugin: 'org.jetbrains.intellij'
//apply plugin: 'jacoco'

intellij {
    version '2018.2'
    type 'IU'
    updateSinceUntilBuild false
    plugins = type == 'IU' ? ['maven', 'junit', 'maven-ext', 'uml', 'coverage'] : ['maven', 'junit']
}

publishPlugin {
    username publishUsername
    password publishPassword
}

patchPluginXml {
    changeNotes """
    <ul>
        <li><u>Compatibility with IDEA 2018</u></li>
    </ul>"""
}
